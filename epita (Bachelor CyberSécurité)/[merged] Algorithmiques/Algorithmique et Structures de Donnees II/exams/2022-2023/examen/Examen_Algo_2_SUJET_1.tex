\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

\newcommand{\NomAuteur}{Fabrice BOISSIER}
\newcommand{\TitreMatiere}{Algo et Structure de Données 2}
\newcommand{\NomUniv}{EPITA - Bachelor Cyber Sécurité}
\newcommand{\NiveauUniv}{CYBER1}
\newcommand{\NumGroupe}{CYBER1}
\newcommand{\AnneeUniv}{2022-2023}
\newcommand{\DateExam}{05 mai 2023}
\newcommand{\TypeExam}{Examen - SUJET 1}
\newcommand{\TitreExam}{\TitreMatiere}
\newcommand{\DureeExam}{2h00}
\newcommand{\MyWaterMark}{\AnneeUniv} % Watermark de protection

% Ajout de mes classes & definitions
\usepackage{MetalExam} % Appelle un .sty

% "Tableau" et pas "Table"
\addto\captionsfrench{\def\tablename{Tableau}}

%%%%%%%%%%%%%%%%%%%%%%%
%Header
%%%%%%%%%%%%%%%%%%%%%%%
\lhead{\TypeExam}							%Gauche Haut
\chead{\NomUniv}							%Centre Haut
\rhead{\NumGroupe}							%Droite Haut
\lfoot{\DateExam}							%Gauche Bas
\cfoot{\thepage{} / \pageref*{LastPage}}	%Centre Bas
\rfoot{\texttt{\TitreMatiere}}				%Droite Bas

%%%%%

\usepackage{tabularx}

\newlength{\LabelWidth}%
%\setlength{\LabelWidth}{1.3in}%
\setlength{\LabelWidth}{1cm}%
%\settowidth{\LabelWidth}{Employee E-mail:}%  Specify the widest text here.

% Optional first parameter here specifies the alignment of
% the text within the \makebox.  Default is [l] for left
% alignment. Other options are [r] and [c] for right and center
\newcommand*{\AdjustSize}[2][l]{\makebox[\LabelWidth][#1]{#2}}%


\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{CStyle}{
    backgroundcolor=\color{backgroundColour},
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    language=C
}


\hyphenation{op-tical net-works SIGKILL}


\begin{document}

%\MakeExamTitleDuree     % Pour afficher la duree
\MakeExamTitle                   % Ne pas afficher la duree

%% \MakeStudentName    %% A reutiliser sur chaque nouvelle page

\bigskip
%\bigskip

Vous devez respecter les consignes suivantes, sous peine de 0 :

\begin{enumerate}[label=\Roman*)]
\item Lisez le sujet en entier avec attention
\item Répondez sur le sujet
\item Ne détachez pas les agrafes du sujet
\item \'Ecrivez lisiblement vos réponses (si nécessaire en majuscules)
\item Vous devez écrire dans le langage algorithmique classique ou en C (donc pas de Python ou autre)
\item Ne trichez pas
\end{enumerate}

%\bigskip

\vfillFirst

% Questions cours
\section{Arbres Binaires (14 points)}

\subsection{(3 points) Indiquez toutes les propriétés que possède cet arbre, puis écrivez les clés lors d'un parcours profondeur main gauche de l'arbre dans les 3 ordres ainsi que lors d'un parcours largeur : }

\begin{center}
\begin{tikzpicture}[sibling distance=1.5cm,
  level/.style = {sibling distance = 55mm/#1},
  level 1/.style = {sibling distance = 55mm},
  level 2/.style = {sibling distance = 30mm},
  level 3/.style = {sibling distance = 15mm},
  level 4/.style = {sibling distance = 10mm},
  every node/.style = {minimum width = 2em, draw, circle},
  ]
  \node (nI1) {I}
  child { node (nW2) {B}
          child { node (nA3) {A}
                  child { node (nS4) {W}
                          child { node (nB5) {I} }
                          child { node [draw=none] (nX) {\phantom{X}} edge from parent [draw=none] }
                        }
                  child { node (nO6) {S} }
                }
          child { node (nR7) {R}
                  child { node (nN8) {O} }
                  child { node (nI9) {N} }
                }
         }
   child { node (nN10) {E}
           child { node (nT11) {T}
                   child { node (nH12) {N} }
                   child { node (nE13) {H} }
                 }
           child { node (nU14) {S}
                   child { node (nS15) {U} }
                   child { node (nA16) {A} }
                 }
        };
\end{tikzpicture}
%  child { node [draw=none] (nX) {\phantom{X}} edge from parent [draw=none] }
\end{center}

\begin{tabular}{C{3cm} C{3cm} C{3cm} C{3cm}}
Arité : & Taille : & Hauteur : & Nb feuilles : \\
\end{tabular}

\medskip

\begin{table}[ht!]
  \centering
  \begin{minipage}{0.50\textwidth}
    \centering

\begin{itemize}
  \item[\CaseCoche] Arbre binaire strict / localement complet \phantom{()}
  \item[\CaseCoche] Arbre binaire parfait \phantom{()}
  \item[\CaseCoche] Peigne gauche \phantom{()}
\end{itemize}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.50\textwidth}
    \centering

\begin{itemize}
  \item[\CaseCoche] Arbre binaire (presque) complet \phantom{()}
  \item[\CaseCoche] Arbre filiforme \phantom{()}
  \item[\CaseCoche] Peigne droit \phantom{()}
\end{itemize}

  \end{minipage}
%\stepcounter{figure}
%\caption{Fig.\thefigure : Recherche de la clé 24 dans un ABR}
%\label{fig:example2-BST-succeed-search}
\end{table}

\bigskip

Parcours profondeur :

\medskip

\centerline{
\begin{tabular}{L{2.5cm} C{0.5cm}C{0.5cm}C{0.5cm}C{0.5cm} C{0.5cm}C{0.5cm}C{0.5cm}C{0.5cm} C{0.5cm}C{0.5cm}C{0.5cm}C{0.5cm} C{0.5cm}C{0.5cm}C{0.5cm}}
ordre préfixe : & - & - & - & - & - & - & - & - & - & - & - & - & - & - & - \\
ordre infixe :  & - & - & - & - & - & - & - & - & - & - & - & - & - & - & - \\
ordre suffixe : & - & - & - & - & - & - & - & - & - & - & - & - & - & - & - \\
\end{tabular}
}

\bigskip

Parcours largeur :

\medskip

\centerline{
\begin{tabular}{L{2.5cm} C{0.5cm}C{0.5cm}C{0.5cm}C{0.5cm} C{0.5cm}C{0.5cm}C{0.5cm}C{0.5cm} C{0.5cm}C{0.5cm}C{0.5cm}C{0.5cm} C{0.5cm}C{0.5cm}C{0.5cm}}
ordre : & - & - & - & - & - & - & - & - & - & - & - & - & - & - & - \\
\end{tabular}
}


\vfillLast

\clearpage

%\vfillFirst

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{(4 points) Dessinez le résultat de l'insertion dans cet ordre précis des éléments suivants dans un ABR (insertion en feuille) et dans un AVL : }

\begin{center}

%\'Eléments insérés : 18 - 46 - 55 - 36 - 12 - 38 - 96 - 71
\'Eléments insérés : 46 - 18 - 55 - 36 - 12 - 38 - 96 - 71

\begin{table}[ht!]
  \centering
  \begin{minipage}{0.50\textwidth}
    \centering

\vspace*{6cm}

ABR
  \end{minipage}
  \hfillx
  \begin{minipage}{0.50\textwidth}
    \centering

\vspace*{6cm}

AVL
  \end{minipage}
%\stepcounter{figure}
%\caption{Fig.\thefigure : Recherche de la clé 24 dans un ABR}
%\label{fig:example2-BST-succeed-search}
\end{table}

\end{center}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{(3 points) \'Ecrivez une fonction récursive \og \textit{parc\_prof\_rec} \fg{} effectuant un parcours profondeur main gauche dans un arbre binaire, et affichant les nœuds dans chacun des ordres : }

%\noindent Pour expliciter les ordres, vous devrez afficher au format : \og Ordre : nœud \fg{} (exemple : \og Préfixe : node \fg{})
\noindent Il faut expliciter les éventuels ordres au format : \og Ordre : nœud \fg{} (exemple : \og Préfixe : 42 \fg{})

\begin{center}
\GrilleReponseN{14}
\end{center}

%\bigskip

%\vfillLast

\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{(4 points) \'Ecrivez une fonction itérative \og \textit{parc\_prof\_iter} \fg{} effectuant un parcours profondeur main gauche dans un arbre binaire, et affichant les nœuds dans chacun des ordres : }

\noindent Il faut expliciter les éventuels ordres au format : \og Ordre : nœud \fg{} (exemple : \og Préfixe : 42 \fg{})

\medskip

\noindent \textit{Vous pouvez utiliser les structures externes :}

\noindent \textit{stack\_t (create, push, head, pop, delete) \hfill queue\_t (create, enqueue, head, dequeue, delete) }

\begin{center}
\GrilleReponseN{22}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\clearpage



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Test de fin de 1\up{ère} année (6 points)}


\noindent Afin de tester l'ensemble des compétences acquises au cours de cette année, vous allez maintenant toutes les exploiter pour interpréter des données et des structures.
Le but de ces exercices est de vous faire changer de point de vue : vous avez construit des structures durant l'année, vous allez maintenant analyser des structures existantes.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{(3 points) \`A partir du tableau et de la sortie affichée, répondez aux questions qui suivent : }



\begin{center}

\begin{table}[ht!]
  \centering
  \begin{minipage}{0.80\textwidth}
%    \centering

\begin{tabular}{ C{0.5cm} C{0.5cm} C{0.5cm} C{0.5cm} C{0.5cm} C{0.5cm}  C{0.5cm} C{0.5cm} C{0.5cm} C{0.5cm} C{0.5cm} C{0.5cm} }
0 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\
\end{tabular}

\begin{tabular}{ |C{0.5cm}|C{0.5cm}|C{0.5cm}|C{0.5cm}|C{0.5cm}|C{0.5cm} |C{0.5cm}|C{0.5cm}|C{0.5cm}|C{0.5cm}|C{0.5cm}|C{0.5cm}|}
\hline
42 & 21 & 48 & 12 & 16 & 56 & 64 & 8 & 14 & 18 & 32 \\
\hline
\end{tabular}

\bigskip

  \end{minipage}
  \hfillx
  \begin{minipage}{0.15\textwidth}

\begin{tabular}{ L{2cm} }
\TTBF{\$ ./prog}
42 \\
21 \\
48 \\
12 \\
16 \\
56 \\
64 \\
8 \\
14 \\
18 \\
32
\end{tabular}

  \end{minipage}
\end{table}

\bigskip
%\vspace*{-0.5cm}

\begin{table}[ht!]
  \centering
  \begin{minipage}{0.45\textwidth}
    \centering
Pile

Dans le cas où le tableau représente une pile, et que l'on affiche les valeurs uniquement lorsqu'elles sont dépilées :

\smallskip

\raggedright
1) 42 a été empilé en premier ou en dernier ?

\bigskip
\bigskip
\bigskip

2) 32 a été empilé en premier ou en dernier ?

\bigskip
\bigskip
\bigskip

  \end{minipage}
  \hfillx
  \begin{minipage}{0.01\textwidth}

\begin{tikzpicture}
\draw (0,0) -- (0,5.5);
\end{tikzpicture}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.45\textwidth}
    \centering
File

Dans le cas où le tableau représente une file, et que l'on affiche les valeurs uniquement lorsqu'elles sont défilées :

\smallskip

\raggedright
3) 42 a été enfilé en premier ou en dernier ?

\bigskip
\bigskip
\bigskip

4) 32 a été enfilé en premier ou en dernier ?

\bigskip
\bigskip
\bigskip

  \end{minipage}
%\stepcounter{figure}
%\caption{Fig.\thefigure : Recherche de la clé 24 dans un ABR}
%\label{fig:example2-BST-succeed-search}
\end{table}

\end{center}

\vspace*{-1.5cm}


\begin{center}

5) Dessinez l'Arbre Binaire correspondant au tableau, puis indiquez quel parcours et éventuellement quel ordre produirait la sortie affichée

\bigskip

\begin{table}[ht!]
  \centering
  \begin{minipage}{0.65\textwidth}

\phantom{42}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.01\textwidth}

\begin{tikzpicture}
\draw (0,0) -- (0,6);
\end{tikzpicture}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.30\textwidth}
    \raggedright

Parcours :

\bigskip
\bigskip
\bigskip
\bigskip

Ordre :

  \end{minipage}
%\stepcounter{figure}
%\caption{Fig.\thefigure : Recherche de la clé 24 dans un ABR}
%\label{fig:example2-BST-succeed-search}
\end{table}

\bigskip

6) [BONUS] Dessinez l'Arbre Ternaire (3 fils par nœud) correspondant au tableau


\vspace*{8cm}


7) Pouvez-vous deviner quelle structure de données a été utilisée dans le programme uniquement à partir des données et de leur ordre d'affichage ?

(\textit{Il s'agit effectivement d'une question rhétorique dont la réponse est maintenant évidente})

\end{center}


\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{(3 points) \`A partir des entrée et sortie affichées, répondez aux questions qui suivent : }

\vspace*{-0.5cm}

\begin{center}

\begin{tabular}{ L{8cm} }
\TTBF{\$ ./prog 42 48 21 56 16 12} \\
42 \\
21 \\
48 \\
12 \\
16 \\
56 \\
\end{tabular}


\begin{table}[ht!]
  \centering
  \begin{minipage}{0.48\textwidth}
    \centering
Pile

Dans le cas où une pile a été utilisée dans le programme, et que l'on affiche les valeurs uniquement lorsqu'elles sont dépilées :

\smallskip

\raggedright
1) Une pile a-t-elle pu servir à manipuler les données ?
Si oui, quel était l'ordre des opérations pour empiler et dépiler les données ?

\vspace*{4.5cm}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.01\textwidth}

\begin{tikzpicture}
\draw (0,0) -- (0,8.25);
\end{tikzpicture}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.48\textwidth}
    \centering
File

Dans le cas où une file a été utilisée dans le programme, et que l'on affiche les valeurs uniquement lorsqu'elles sont défilées :

\smallskip

\raggedright
2) Une file a-t-elle pu servir à manipuler les données ?
Si oui, quel était l'ordre des opérations pour enfiler et défiler les données ? \phantom{blablabla}

\vspace*{4.5cm}

  \end{minipage}
%\stepcounter{figure}
%\caption{Fig.\thefigure : Recherche de la clé 24 dans un ABR}
%\label{fig:example2-BST-succeed-search}
\end{table}

\end{center}


3) Pouvez-vous deviner quelle structure de données a été utilisée dans ce programme à partir de l'ordre d'entrée et de sortie des données ?
Si oui, quelle était cette structure ?


\vspace*{1.5cm}


4) Existe-t-il un scénario où il est \textbf{impossible} de distinguer une pile d'une file en n'observant que les entrées et sorties ?
%Si oui, décrivez l'ordre des opérations push/pop et enqueue/dequeue permettant d'obtenir pour une même entrée les deux mêmes sorties (utilisez l'entrée de l'exemple plus haut pour illustrer ce cas) :
Si oui, utilisez l'exemple plus haut comme entrée, et décrivez les opérations push/pop et enqueue/dequeue nécessaires pour obtenir les deux mêmes sorties :

\begin{center}

\begin{table}[ht!]
  \centering
  \begin{minipage}{0.45\textwidth}
    \centering
Pile

\vspace*{6cm}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.01\textwidth}

\begin{tikzpicture}
\draw (0,0) -- (0,6.75);
\end{tikzpicture}

  \end{minipage}
  \hfillx
  \begin{minipage}{0.45\textwidth}
    \centering
File

\vspace*{6cm}

  \end{minipage}
%\stepcounter{figure}
%\caption{Fig.\thefigure : Recherche de la clé 24 dans un ABR}
%\label{fig:example2-BST-succeed-search}
\end{table}

\end{center}



\end{document}
